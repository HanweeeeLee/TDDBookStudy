# 24. xUnit 회고

자신만의 테스팅 프레임워크를 구현해야 할 때가 온다면 2부에서 보여 준 일련의 과정이 길잡이가 되어 줄 것이다.  
세세한 구현 사항 보다는 우리가 사용한 테스트 케이스가 더 중요하다.  
  
이 책에서 보여준 테스트 케이스를 지원할 수 있다면 독립적이고 여러 테스트를 조합할 수 있는 테스트를 작성할 수 있을 것이고, 테스트 우선으로 개발할 준비가 될 것이다.  
  
이 책을 쓸 때 기점에 xUnit은 30개 이상의 프로그래밍 언어에 포팅되어 있다.  
이미 우리가 사용하는 언어에 포팅되어 있을 가능성이 높다.  
하지만 이미 구현되어 있더라도 직접 xUnit을 구현해볼만한 두 가지 이유가 있다.
 - 숙달: xUnit의 정신은 간결함에 있다. 이에 대해 마틴 파울러는 '소프트웨어 공학 역사에서 이토록 많은 사람이 이렇게 짧은 코드로 이토록 큰 은혜를 입은 적이 없었다.' 고 말했다. 그러나 몇몇 구현은 조금 복잡해 보인다. 직접 만들어 사용하면 숙달된 도구를 쓰는 느낌을 받을 것이다.
 - 탐험: 새로운 프로그래밍 언어를 처음 접하면 그 언어로 xUnit을 만들어본다. 테스트가 여덟 개에서 열 개 정도 통과할 때쯤이면, 그 언어로 프로그래밍하면서 접하게 될 많은 기능을 한 번씩 경험해보게 된다.
 
xUnit을 사용하다 보면 assertion 의 실패와 나머지 종류의 에러 사이에 큰 차이점이 있음을 알게 될 것이다.  
일반적으로 assertion failure 가 디버깅 시간을 더 많이 잡아 먹곤 한다.  
이런 이유로 xUnit 구현에서는 실패와 에러를 구별한다.  
GUI에서는 종종 에러를 상단에 출력하는 식으로 이들을 구분한다.  
  
JUnit은 Test 인터페이스를 선언하는데 TestCase와 TestSuite 모두 이를 상속받는다.  
만약 JUnit 도구가 테스트를 실행하게 만들고 싶으면 Test 인터페이스를 구현하면 된다.
```JAVA
public interface Test {
    public abstract int countTestCases();
    public abstract void run(TestResult result);
}
```

동적 타이핑 언어에서는 그냥 해당 오퍼레이션을 구현하면 된다.  
스크립트 언어의 경우 스크립트에서 countTestCases()가 1을 반환하도록 구현하고 실패시 TestResult에 고지하도록 하면,  
그 스크립트를 일반 TestCase 와 함께 실행할 수 있다..
